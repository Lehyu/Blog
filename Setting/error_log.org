#+TITLE: The file named error_log is too large
#+AUTHOR: mlhy
#+EMAIL: 951908719@qq.com
#+DESCRIPTION:
#+CATEGORIES: Linux
#+KEYWORDS: Linux,web
#+LANGUAGE:
#+OPTIONS: H:3 num:t toc:nil \n:t @:t ::t |:t ^:t -:t f:t *:t <:t
#+OPTIONS: Tex:t LaTeX:t skip:nil d:nil todo:t pri:nil tags:not-in-toc
#+INFOJS_OPT: view:nil toc:nil ltoc:t mouse:underline buttons:0
#+EXPORT_SELECT_TAGS: export
#+EXPORT_EXCLUDE_TAGS: noexport
#+LINK_UP: /mlhy
#+LINK_HOME: /mlhy
#+XSLT:
* Problem
One day, when I install android-sdk, I found that one error "NO space left on the device". That's very strange. Because I have allocated 50G to mnt. So I check my computer's files. Then I found the file,*error_log.1*, which size is 35G. Then search. The *error_log.1* is the error log file of apache. All apache errors/diagnostic information or other errors found during serving requests are logged to this file. So if you don't do something, it will be larger and larger.
* Solution
edit /etc/httpd/conf/httpd.conf
#+BEGIN_SRC
#ErrorLog "/var/log/httpd/error_log"   #before
ErrorLog "|bin/rotatelogs /var/logs/errorlog.%Y-%m-%d-%H_%M_%S 5M"

#CustomLog "/var/log/httpd/access_log" common  #before
CustomLog "|bin/rotatelogs /var/log/httpd/access_log 86400" common
CustomLog "|bin/rotatelogs /var/log/httpd/access_log 5M" common
#+END_SRC
